This is a completely normal feeling! In software engineering, requirements change (like switching from NewsAPI to GNews), and code has to adapt.

Here is a beginner-friendly breakdown of exactly what changed, why we changed it, and how the new code works line-by-line.

You can save this as README.md or LEARNING_NOTES.md.

ðŸ“˜ React News App (GNews Edition) - Documentation
1. The Big Problem: Why did we change the code?

We started with NewsAPI. It worked great on your computer (localhost).
However, when we moved to Vercel, it broke.

Reason: NewsAPI's free plan blocks requests from cloud servers like Vercel. It only allows requests from your personal computer.

Solution: We switched to GNews. GNews allows requests from Vercel on their free plan.

2. The "Translator" Concept (Crucial to understand)

This is the most important coding concept in this update.

Your App.jsx (the UI) was built expecting specific names for data, specifically images:

Your App expects: article.urlToImage

Old API (NewsAPI) gave: urlToImage (Match! âœ…)

New API (GNews) gives: image (Mismatch! âŒ)

If we sent the GNews data directly to your App, the images would break because article.urlToImage would be undefined.

The Fix: We wrote a "Translator" (using .map) inside the API file to rename image to urlToImage before the App ever sees it.

3. Code Breakdown: src/api/news.jsx

This file is the "Data Fetcher." Let's look at it line-by-line.

code
JavaScript
download
content_copy
expand_less
// src/api/news.jsx

export const fetchNewsApi = async (searchQuery = "technology") => {
  
  // 1. NEW API KEY
  // We swapped the NewsAPI key for the GNews key you just got.
  const apiKey = "7cbc87b81a1ffe46e888c7c5d7fad7da"; 
  
  // 2. NEW URL
  // GNews uses a different URL structure.
  // encodeURIComponent ensures if you search "Elon Musk", it becomes "Elon%20Musk" safely.
  const url = `https://gnews.io/api/v4/search?q=${encodeURIComponent(searchQuery)}&lang=en&image=required&apikey=${apiKey}`;

  try {
    const response = await fetch(url);
    const data = await response.json();

    // 3. ERROR HANDLING
    // GNews returns an 'errors' property if something goes wrong (like wrong key).
    if (data.errors) {
      console.error("GNews API Error:", data.errors);
      return []; // Return empty array so the App doesn't crash
    }

    // 4. THE MAPPING MAGIC (The Translator)
    // 'data.articles' is the raw list from GNews.
    // We loop through every single article and re-package it.
    const formattedArticles = (data.articles || []).map(article => ({
      
      // Left side: What your App expects
      // Right side: What GNews provides
      
      title: article.title,             // Same
      description: article.description, // Same
      url: article.url,                 // Same
      publishedAt: article.publishedAt, // Same
      source: article.source,           // Same
      
      // THIS IS THE KEY CHANGE:
      urlToImage: article.image         // We take GNews 'image' and save it as 'urlToImage'
    }));

    // 5. RETURN CLEAN DATA
    // Now we return the "formatted" list. 
    // Your App.jsx doesn't even know we switched APIs! 
    return formattedArticles;

  } catch (error) {
    console.error("Error fetching news:", error);
    return [];
  }
};
4. Code Breakdown: src/App.jsx

The beauty of our change is that App.jsx stayed almost exactly the same. This is good coding practice (Separation of Concerns).

However, let's review how it consumes the data.

code
JavaScript
download
content_copy
expand_less
import { fetchNewsApi } from "./api/news"; // Importing our helper

function App() {
  const [articles, setArticles] = useState([]); // Stores the news list

  const fetchNews = async () => {
    setIsLoading(true);
    
    // 1. CALL THE API
    // We ask the api/news.jsx file to get data.
    // It goes to GNews -> Gets Data -> Translates 'image' to 'urlToImage' -> Returns it.
    const data = await fetchNewsApi(searchQuery);
    
    // 2. SET STATE
    // 'data' is now the "Formatted Articles" array we created above.
    setArticles(data); 
    
    setIsLoading(false);
  };

  // ... rest of code ...

  return (
    // ... inside the JSX map loop ...
    articles.map((article, index) => (
      <div className="card">
        
        {/* 
           Because we "translated" the data in the API file,
           we can still use 'article.urlToImage' here!
           If we hadn't mapped it, we would have to change this line to article.image
        */}
        {article.urlToImage && (
           <img src={article.urlToImage} alt="news-img" />
        )}
        
        <h3>{article.title}</h3>
        {/* ... */}
      </div>
    ))
  );
}
5. Summary of Flow

Here is the journey of data in your application:

User types "Bitcoin" and clicks Search in App.jsx.

App.jsx calls fetchNewsApi("Bitcoin").

api/news.jsx calls GNews servers.

GNews replies with data where images are called image.

api/news.jsx intercepts this data. It loops through it and renames image to urlToImage.

api/news.jsx returns the clean data to App.jsx.

App.jsx receives the data. It looks exactly like the old NewsAPI data.

App.jsx displays the images using article.urlToImage.

6. Next Steps for You

Commit the changes:
Use your tool!

code
Bash
download
content_copy
expand_less
lazypush "switched to GNews and added data mapping"

Deploy:
Pushing to GitHub will automatically trigger Vercel to update your live site.

Test:
Go to your Vercel link. It should now show news articles instead of "No articles found."