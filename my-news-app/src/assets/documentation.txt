Here is the complete, final documentation for your project. This is written specifically for you to study. It explains the entire journey of your code changes, why they happened, and how the final code works line-by-line.

Save this as STUDY_NOTES.md.

üìò React Global News Project - Final Documentation

Project: Real-time News Aggregator
Status: Working on Localhost & Vercel
Key Tech: React, GNews API, CORS Proxy

1. The Story of the Code (Why did it change?)

To understand the code, you must understand the problems we solved. We went through three versions:

‚ùå Version 1: NewsAPI

What we did: Used newsapi.org.

The Problem: It worked on your computer but failed on Vercel. NewsAPI blocks requests from cloud servers on the free plan.

‚ùå Version 2: GNews (Direct)

What we did: Switched to gnews.io.

The Problem: It worked on your computer but failed on Vercel with a CORS Error. This means GNews refused to talk to the Vercel website directly due to browser security rules.

‚úÖ Version 3: GNews + Proxy (Current Version)

The Solution: We added a Proxy (corsproxy.io).

How it works: Your App -> Proxy -> GNews.

The Proxy acts as a polite "middleman." It takes your request, gets the data from GNews, and hands it back to Vercel with the correct "permission slips" (Headers) so the browser accepts it.

2. Detailed Code Analysis: src/api/news.jsx

This file is the Service Layer. Its job is to fetch data and clean it up.

code
JavaScript
download
content_copy
expand_less
// src/api/news.jsx

// 1. Async Function
// We use 'async' because fetching data from the internet takes time.
export const fetchNewsApi = async (searchQuery = "technology") => {
  
  // 2. API Key
  // This is your unique ID for GNews.
  const apiKey = "7cbc87b81a1ffe46e888c7c5d7fad7da"; 
  
  // 3. The Original URL
  // We build the URL dynamically based on what the user typed (searchQuery).
  // 'encodeURIComponent' converts spaces to '%20' so the URL doesn't break.
  const originalUrl = `https://gnews.io/api/v4/search?q=${encodeURIComponent(searchQuery)}&lang=en&image=required&apikey=${apiKey}`;

  // 4. The Proxy (THE FIX)
  // We wrap the original URL inside the Proxy URL.
  // This bypasses the CORS error on Vercel.
  const proxyUrl = `https://corsproxy.io/?${encodeURIComponent(originalUrl)}`;

  try {
    // 5. Fetching
    // We fetch the PROXY URL, not the original one.
    const response = await fetch(proxyUrl);
    const data = await response.json();

    // 6. Error Checking
    // GNews returns an 'errors' object if your key is invalid or you hit the daily limit.
    if (data.errors) {
      console.error("API Error:", data.errors);
      return []; // Return empty list so app doesn't crash
    }

    // 7. Data Mapping (The Translator)
    // GNews calls images 'image'. Your App expects 'urlToImage'.
    // We loop through the list (.map) and rename the fields.
    return (data.articles || []).map(article => ({
      title: article.title,
      description: article.description,
      url: article.url,
      
      // MAPPING HAPPENS HERE:
      // Take GNews 'image' -> Save as 'urlToImage'
      urlToImage: article.image, 
      
      publishedAt: article.publishedAt,
      source: article.source
    }));

  } catch (error) {
    console.error("Error fetching news:", error);
    return [];
  }
};
3. Detailed Code Analysis: src/App.jsx

This file is the View Layer. It manages the screen and user interaction.

code
JavaScript
download
content_copy
expand_less
import { useState, useEffect } from "react";
import "./App.css";
import { fetchNewsApi } from "./api/news"; // Import the helper we wrote above

function App() {
  // 1. State Management (React's Memory)
  const [articles, setArticles] = useState([]); // Stores the news list
  const [searchQuery, setSearchQuery] = useState("technology"); // Stores input text
  const [isLoading, setIsLoading] = useState(false); // Stores true/false for spinner

  // 2. The Fetch Trigger
  const fetchNews = async () => {
    setIsLoading(true); // Turn on spinner
    setArticles([]);    // Clear old news
    
    try {
      // Call the API file. We await the result because it takes time.
      const data = await fetchNewsApi(searchQuery);
      setArticles(data); // Save the cleaned data to State
    } catch (err) {
      console.log(err);
    } finally {
      setIsLoading(false); // Turn off spinner (happens whether success or fail)
    }
  };

  // 3. Lifecycle Hook
  // This runs ONLY ONCE when the app first opens.
  useEffect(() => {
    fetchNews();
  }, []); 

  // 4. Search Handler
  const handleSearch = (e) => {
    e.preventDefault(); // Stop page refresh
    fetchNews();        // Get new data
  };

  return (
    <div className="app-container">
      {/* UI Code (HTML/JSX) goes here */}
      {/* We map through 'articles' to display Cards */}
    </div>
  );
}

export default App;
4. Concept Dictionary (Things to Learn)
üåê CORS (Cross-Origin Resource Sharing)

Analogy: Imagine a security guard at a building (GNews). He knows your face (Localhost), so he lets you in. But when you wear a mask (Vercel), he doesn't recognize you and blocks you.

The Fix: We used a Proxy.

üîó Proxy

Analogy: You give a message to a mutual friend (Proxy). The friend walks past the security guard (because the guard trusts the friend), gets the package, and brings it back to you.

üó∫Ô∏è .map() (Array Mapping)

Concept: Transforms data from one format to another.

In this project: We used it to rename image (from GNews) to urlToImage (what our UI code expected).

‚è≥ async / await

Concept: JavaScript usually runs fast and doesn't wait. await tells JavaScript: "Pause here until the data comes back from the internet."

5. Important Troubleshooting
"I see 'Forbidden' or no articles again!"

You are using the Free Plan of GNews.

Limit: 100 requests per day.

Cause: Every time you refresh the page or click search, it counts as 1 request. Since you are developing and testing, you might use up 100 requests quickly.

Solution: Wait until tomorrow (UTC time), or create a new account on GNews to get a new key.

6. How to update your project in the future

If you want to change the code again:

Edit the files in VS Code.

Save.

Run your tool:

code
Bash
download
content_copy
expand_less
lazypush "description of change"

Vercel will update automatically.